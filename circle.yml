machine:
  python:
    version: 2.7.9
  post:
    - pyenv global 2.7.9

dependencies:
  cache_directories:
    - "~/.local"
  pre:
    - sudo apt-get install python-dev
    - sudo apt-get install python-tk
    - sudo apt-get install tcl-vtk
    - sudo apt-get install python-vtk
    - python -c "import vtk"
  override:
    - pip install --upgrade setuptools
    - pip install -r requirements.txt
    - pip install pytest

test:
  override:
    - pytest tests.py --doctest-modules --junitxml=$CIRCLE_TEST_REPORTS/junit/pytest.xml